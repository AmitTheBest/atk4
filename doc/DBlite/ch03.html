<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <title>Chapter&nbsp;3.&nbsp;Using regular queries and fetching data</title><link rel="stylesheet" href="html.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.65.1"><link rel="home" href="index.html" title="DBlite developer documentation"><link rel="up" href="index.html" title="DBlite developer documentation"><link rel="previous" href="ch02s02.html" title="2.&nbsp;Extending DSN parser"><link rel="next" href="ch03s01.html" title="1.&nbsp;Using $assoc argument for getAll and getRow"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">Chapter&nbsp;3.&nbsp;Using regular queries and fetching data</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch02s02.html">Prev</a>&nbsp;</td><th width="60%" align="center">&nbsp;</th><td width="20%" align="right">&nbsp;<a accesskey="n" href="ch03s01.html">Next</a></td></tr></table><hr></div><div class="chapter" lang="en"><div class="titlepage"><div><div><h2 class="title"><a name="d0e127"></a>Chapter&nbsp;3.&nbsp;Using regular queries and fetching data</h2></div></div><div></div></div><div class="toc"><p><b>Table of Contents</b></p><dl><dt><span class="section"><a href="ch03s01.html">1. Using $assoc argument for getAll and getRow</a></span></dt><dt><span class="section"><a href="ch03s02.html">2. Error handling</a></span></dt><dd><dl><dt><span class="section"><a href="ch03s02.html#d0e298">2.1. Setting up error handler</a></span></dt><dt><span class="section"><a href="ch03s02.html#d0e305">2.2. Writing error handler</a></span></dt></dl></dd></dl></div><p>While DBlite suggests using dynamic SQL where possible, you can still use regular queries.</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>Phylosophy of DBlite is not agree with PEAR::DB which emulates some common features if data handler does not support it. We might include such emulation if it does not affect speed, however.</p><p>Since not all databases (such as mysql) supports arguments in a query, we do not emulate them to provide compatibility. However we do plan on using them from Dynamic SQL if driver provides such functionality. This also applies on other things such as query joining, cursors, commits, sequences and limits.</p><p>Perhaps in latter versions we might have compatibility requirements implemented as PHP5 interfaces and advanced classes: compat_mysql ,compat_oracle. If you are interested, read <a href="ch07.html" title="Chapter&nbsp;7.&nbsp;Future plans">Chapter&nbsp;7, <i>Future plans</i></a></p></div><p>I assume you already understand about queries and pooling data, if not - read PEAR::DB documentation or PHP documentation. Here are the list of functions you can use for queries and fetching data:</p><div class="table"><a name="d0e142"></a><p class="title"><b>Table&nbsp;3.1.&nbsp;using regular queries and fetching data</b></p><table summary="using regular queries and fetching data" border="1"><colgroup><col><col><col></colgroup><thead><tr><th>Function name</th><th>Description</th><th>Driver compatibility</th></tr></thead><tbody><tr><td>query($query_string)</td><td>parse and execute query. Results are not fetched.</td><td>C0</td></tr><tr><td>fetchRow()</td><td>return one row from last query.</td><td>C1,mysql</td></tr><tr><td>fetchHash()</td><td>similar to fetchRow</td><td>C1,mysql</td></tr><tr><td>numRows()</td><td>number of rows returned by last query</td><td>C1,mysql</td></tr><tr><td>numCols()</td><td>number of columns returned by last query</td><td>C1,mysql</td></tr><tr><td>affectedRows()</td><td>numbe of rows affected by update/delete or similar queries</td><td>C1,mysql</td></tr><tr><td>lastID()</td><td>ID of last insert as from auto_increment</td><td>C1,mysql</td></tr><tr><td>getAll($query,$assoc)</td><td>execute query and return all results in a two dimensional array. Read <a href="ch03s01.html" title="1.&nbsp;Using $assoc argument for getAll and getRow">Section&nbsp;1, &#8220;Using $assoc argument for getAll and getRow&#8221;</a> about how 2nd argument affects row association.</td><td>C0</td></tr><tr><td>getRow($query,$assoc)</td><td>execute query and return only first row. Read <a href="ch03s01.html" title="1.&nbsp;Using $assoc argument for getAll and getRow">Section&nbsp;1, &#8220;Using $assoc argument for getAll and getRow&#8221;</a></td><td>C0</td></tr><tr><td>getOne($query)</td><td>execute query and return first cell of first row.</td><td>C0</td></tr></tbody></table><table summary="using regular queries and fetching data" border="1"><colgroup><col><col></colgroup><thead><tr><th>Compatibility</th><th>Meaning</th></tr></thead><tbody><tr><td>C0</td><td>Zero level compatibility. Function is supported by all drivers.</td></tr><tr><td>C1</td><td>First level compatibility. compat1_* drivers will either support natively or emulate this function. Read <a href="ch07s01.html" title="1.&nbsp;Compatibility layers">Section&nbsp;1, &#8220;Compatibility layers&#8221;</a> for details about compatibility layer.</td></tr><tr><td>mysql, ..</td><td>Drivers implementing function</td></tr></tbody></table></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s02.html">Prev</a>&nbsp;</td><td width="20%" align="center"><a accesskey="u" href="index.html">Up</a></td><td width="40%" align="right">&nbsp;<a accesskey="n" href="ch03s01.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">2.&nbsp;Extending DSN parser&nbsp;</td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top">&nbsp;1.&nbsp;Using $assoc argument for getAll and getRow</td></tr></table></div></body></html>